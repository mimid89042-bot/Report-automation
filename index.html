<!DOCTYPE html>
<html lang = "en">
<head>
    <title>TWP Calculation</title>
    <meta charset= "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<h1>TWP Calculation</h1>

<form id="cohesive-inputs">
    <div class="box">
        <label for="soilType">Subgrade Soil Type:</label>
        <select id="soilType" required title="subgrade soil type required">
            <option value="">-- Select Soil Type --</option>
            <option value="cohesive">Cohesive</option>
            <option value="granular">Granular</option>
        </select>
    </div>

    <div id="cohesiveInputs" class="box hidden">
        <h3>Design values for ground properties</h3>

        <div class="input-row">
            <label for="subgrade">Subgrade</label>
            <label>C<sub>u</sub> (kPa):
            <input type="number" id="cu" step="0.1" required >
            </label>
        </div>


        <div class="input-row">
            <label for="platform">Working platform</label>

            <label for="phi" class="inline-flex">
                ϕ'<sub>p</sub> (°):
                <select id="phi" required>
                    <option value="35">35</option>
                    <option value="40" selected>40</option>
                    <option value="45">45</option>
                </select>
            </label>


            <label for="gamma" class="inline-flex">
                γ<sub>p</sub> (kN/m³):
                <input type="number" id="gamma" step="0.1" value= "20" required>
            </label>
        </div> <br>

        <h3>Design values for track width and effective length</h3>

        <div class="input-row">
            <label for="width" class = "inline-flex">
                <label>W<sub>d</sub> (m):
                <input type="number" id="W" step="0.1" required>
            </label>
            </label>
        </div>



        <div class="cases-container">
        <div class="case-column">
            <p>Case 1 loading inputs</p>
            <label>q<sub>1k</sub> (kPa):
                <input type="number" id="q1k" step="0.1" required>
            </label><br>

            <label>L<sub>1d</sub> (m):
                <input type="number" id="L1" step="0.1" required>
            </label><br>
        </div>

        <div class="case-column">
            <p>Case 2 loading inputs</p>
            <label>q<sub>2k</sub> (kPa):
                <input type="number" id="q2k" step="0.1" required>
            </label><br>

            <label>L<sub>2d</sub> (m):
                <input type="number" id="L2" step="0.1" required>
            </label><br>
        </div>
    </div>

<!-- Tensile strength option-->

    <div class="input-column">
        <h3>Use a geogrid?</h3>
        <select id="geogrid" required>
            <option value="">-- Select --</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>
    </div> <br>

    <div class="input-row hidden" id="geogridInputs">
        <label for="Tult" class="inline-flex">
            T<sub>ult</sub> (kN/m):
            <input type="number" id="Tult" step="0.1" required>
        </label>
    </div>


        <button type="submit" id="calculateBtn">Submit</button>
    </div>
</form>

<!-- PLATFORM REQUIRED BOX -->
<div class="box hidden" id="cohesivePlatformDecision">
   <p>N<sub>c</sub> = (2+π) = 5.14</p>
   <p>N<sub>γp</sub> = <span id="Ngamma_value"></span></p>
   <p>K<sub>p</sub>tanδ = <span id="kptandelta_value"></span></p>

   <div class="results-container">
      <div class="case-result">
         <h3>Case 1 loading results</h3>
         <p>s<sub>c1</sub> = 1 + 0.2(W/L<sub>1d</sub>) = <span id="sc1_value"></span></p>
         <p>s<sub>γ1</sub> = 1 - 0.3(W/L<sub>1d</sub>) = <span id="sgamma1_value"></span></p>
         <p>s<sub>p1</sub> = 1 + (W/L<sub>1d</sub>) = <span id="sp1_value"></span></p>
      </div>

      <div class="case-result">
         <h3>Case 2 loading results</h3>
         <p>s<sub>c2</sub> = 1 + 0.2(W/L<sub>2d</sub>) = <span id="sc2_value"></span></p>
         <p>s<sub>γ2</sub> = 1 - 0.3(W/L<sub>2d</sub>) = <span id="sgamma2_value"></span></p>
         <p>s<sub>p2</sub> = 1 + (W/L<sub>2d</sub>) = <span id="sp2_value"></span></p>
      </div>
   </div>

   <h3>Check if a working platform is required</h3>
    <span>Check that subgrade cannot provide required bearing resistance without a working platform:</span>
    
    <p class = "indented"> R<sub>d</sub> = c<sub>u</sub>N<sub>c</sub>s<sub>c</sub> = 
        <span id="cu_value"></span> x 
        5.14 x 
        <span id = "sc_min_value"></span> =
        <span id="Rd_value"></span> kPa</p>
        <br>

    <p>Design loading is calculated for two loading conditions.</p>

     <div class="cases-container">
    <div class="case-column">
        <p>Case loading 1:</p>
        <p>q<sub>1d</sub> = 2.0q<sub>1k</sub> = 2.0 x <span id= "q1k_value"></span> = <span id= "q1d_value"></span> kPa</p>
    </div>

    <div class="case-column">
        <p>Case loading 2:</p>
        <p>q<sub>2d</sub> = 1.5q<sub>2k</sub> = 1.5 x <span id= "q2k_value"></span> = <span id= "q2d_value"></span> kPa</p>
    </div>
    </div>

    <p id= "twpDecision" class = "indented"></p>


</div>

<!-- PLATFORM MATERIAL BOX-->
<div class= "box hidden" id="platformMaterial" >
    <h3> Check that platform material is stronger than subgrade:</h3>
    <p class ="indented">0.5γ<sub>p</sub>W<sub>d</sub> N<sub>γp</sub> s<sub>γ</sub>
        =  0.5 x <span id="gamma_value"></span> x <span id="W_value"></span> x <span id="Ngamma_value2"></span> x <span id="sgamma_min_value"></span>
        = <span id="platformBC_value"></span> kPa
    </p>
    <P class ="indented">  c<sub>u</sub>N<sub>c</sub>s<sub>c</sub> = <span id="Rd_value2"></span> kPa</P>
    <p id = "subgradeVplatform" ></p> <br>
    <h3> Check that platform material can provide required bearing resistance when placed at a 
        thickness sufficient to ensure that the subgrade does not materially affect bearing capacity:</h3>
    <p class="indented">
        q<sub>1d</sub> = 1.6q<sub>1k</sub> 
        = 1.6 x <span id="q1k_value2"></span>
        = <span id="q1d2_value"></span> kPa
        <br><br>

        q<sub>2d</sub> = 1.2q<sub>2k</sub> 
        = 1.2 x <span id="q2k_value2"></span>
        = <span id="q2d2_value"></span> kPa
        <br><br>

        0.5γ<sub>p</sub>W<sub>d</sub> N<sub>γp</sub> s<sub>γ</sub>
        = <span id="platformBC_value2"></span> kPa
    </p>
    <p id = "bearingResistance" ></p> 

</div>

<!-- THICKNESS BOX-->
<div class="box hidden" id="thickness">
    <h3>Calculate the thickness of platform:</h3>
    <div class="cases-container">
   <div class="case-column">
    <p>Case loading 1:</p>
    <p>D<sub>1</sub> = {W<sub>d</sub> [q<sub>1d</sub> - c<sub>u</sub>N<sub>c</sub>s<sub>c1</sub>
        / γ<sub>p</sub>K<sub>p</sub>tanδs<sub>p1</sub>]}<sup>0.5</sup></p>
    <p>Where q<sub>1d</sub> = 1.6 × q<sub>1k</sub></p>
    <p>
        D<sub>1</sub> = 
        (<span id="W_value2"></span> × 
        ([1.6 × <span id="q1k_value3"></span>] - <span id="subgradeBC1_value"></span>)) / 
        (<span id="gamma_value2"></span> × <span id="kptandelta_value2"></span> × <span id="sp1_value2"></span>)
        <sup>0.5</sup>
        = <span id="D1_value"></span> m
    </p>
</div>

<div class="case-column">
    <p>Case loading 2:</p>
    <p>D<sub>2</sub> = {W<sub>d</sub> [q<sub>2d</sub> - c<sub>u</sub>N<sub>c</sub>s<sub>c2</sub>
        / γ<sub>p</sub>K<sub>p</sub>tanδs<sub>p2</sub>]}<sup>0.5</sup></p>
    <p>Where q<sub>2d</sub> = 1.2 × q<sub>2k</sub></p>
    <p>
        D<sub>2</sub> = 
        (<span id="W_value3"></span> × 
        ([1.2 × <span id="q2k_value3"></span>] - <span id="subgradeBC2_value"></span>)) / 
        (<span id="gamma_value3"></span> × <span id="kptandelta_value3"></span> × <span id="sp2_value2"></span>)
        <sup>0.5</sup>
        = <span id="D2_value"></span> m
    </p>
</div>

<!-- GEOGRID THICKNESS BOX-->
<div class = "box hidden" id = "geogrid">
    <h3> Calculate thickness with geogrid: </h3>

</div>


</div>

<script type="module" src="js/main.js"></script>


</body>
</html>
