<!DOCTYPE html>
<html lang = "en">
<head>
    <title>TWP Calculation</title>
    <meta charset= "utf-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<h1>TWP Calculation</h1>

<form id="cohesive-inputs">
    <div class="box">
        <label for="soilType">Subgrade Soil Type:</label>
        <select id="soilType" required title="subgrade soil type required">
            <option value="">-- Select Soil Type --</option>
            <option value="cohesive">Cohesive</option>
            <option value="granular">Granular</option>
        </select>
    </div>

    <div id="cohesiveInputs" class="box hidden">
        <h3>Design values for ground properties</h3>

        <div class="input-row">
            <label for="subgrade">Subgrade</label>
            <label>C<sub>u</sub> (kPa):
            <input type="number" id="cu" step="0.1" required  value = "24">
            </label>
        </div>


        <div class="input-row">
            <label for="platform">Working platform</label>

            <label for="phi_p" class="inline-flex">
                ϕ'<sub>p</sub> (°):
                <select id="phi_p" required>
                    <option value="35">35</option>
                    <option value="40" selected>40</option>
                    <option value="45">45</option>
                </select>
            </label>


            <label for="gamma" class="inline-flex">
                γ<sub>p</sub> (kN/m³):
                <input type="number" id="gamma" step="0.1" value="20" required>
            </label>
        </div> <br>

        <h3>Design values for track width and effective length</h3>

        <div class="input-row">
            <label for="width" class = "inline-flex">
                <label>W<sub>d</sub> (m):
                <input type="number" id="Wd" step="0.1" required value = "0.7">
            </label>
            </label>
        </div>



        <div class="cases-container">
        <div class="case-column">
            <p>Case 1 loading inputs</p>
            <label>q<sub>1k</sub> (kPa):
                <input type="number" id="q1k" step="0.1" required value = "140">
            </label><br>

            <label>L<sub>1d</sub> (m):
                <input type="number" id="L1d" step="0.1" required value = "3.6">
            </label><br>
        </div>

        <div class="case-column">
            <p>Case 2 loading inputs</p>
            <label>q<sub>2k</sub> (kPa):
                <input type="number" id="q2k" step="0.1" required value = "190">
            </label><br>

            <label>L<sub>2d</sub> (m):
                <input type="number" id="L2d" step="0.1" required value = "3.1">
            </label><br>
        </div>
    </div>


        <button type="submit" id="calculateBtn">Submit</button>
    </div>
</form>

<!-- RESULTS BOX -->
<div class="box hidden" id="results">
   <p>N<sub>c</sub> = (2+π) = 5.14</p>
   <p>N<sub>γp</sub> = <span id="N_gamma_p_display"></span></p>
   <p>K<sub>p</sub>tanδ = <span id="kptandelta"></span></p>

   <div class="results-container">
      <div class="case-result">
         <h3>Case 1 loading results</h3>
         <p>s<sub>c1</sub> = 1 + 0.2(W/L<sub>1d</sub>) = <span id="sc_1"></span></p>
         <p>s<sub>γ1</sub> = 1 - 0.3(W/L<sub>1d</sub>) = <span id="sgamma_1"></span></p>
         <p>s<sub>p1</sub> = 1 + (W/L<sub>1d</sub>) = <span id="sp_1"></span></p>
      </div>

      <div class="case-result">
         <h3>Case 2 loading results</h3>
         <p>s<sub>c2</sub> = 1 + 0.2(W/L<sub>2d</sub>) = <span id="sc_2"></span></p>
         <p>s<sub>γ2</sub> = 1 - 0.3(W/L<sub>2d</sub>) = <span id="sgamma_2"></span></p>
         <p>s<sub>p2</sub> = 1 + (W/L<sub>2d</sub>) = <span id="sp_2"></span></p>
      </div>
   </div>

   <h3>Check if TWP is required</h3>
    <span>Check that subgrade cannot provide required bearing resistance without a working platform:</span>
    
    <p class = "indented"> R<sub>d</sub> = c<sub>u</sub>N<sub>c</sub>s<sub>c</sub> = 
        <span id="cu_value"></span> x 
        <span id = "NC_value" ></span> x 
        <span id = "sc_min_value"></span>
        <span id="R_d"></span></p>
        <br>

    <p>Design loading is calculated for two loading conditions.</p>

     <div class="cases-container">
    <div class="case-column">
        <p>Case loading 1:</p>
        <p>q<sub>1d</sub> = 2.0q<sub>1k</sub> = 2.0 x <span id= "q1k_value"></span> = <span id= "q1d_value"></span> kPa</p>
    </div>

    <div class="case-column">
        <p>Case loading 2:</p>
        <p>q<sub>2d</sub> = 1.5q<sub>2k</sub> = 1.5 x <span id= "q2k_value"></span> = <span id= "q2d_value"></span> kPa</p>
    </div>
    </div>

    <p id= "twp_decision" class = "indented"></p>


</div>

<!-- PLATFORM MATERIAL BOX-->
<div class= "box hidden" id="platformMaterial" >
    <p> Check that platform material is stronger than subgrade:</p>
    <p>
    <!--0.5 &times; γ<sub>p</sub> &times; W<sub>d</sub> &times; N<sub>γp</sub> &times; s<sub>γ</sub> =
    0.5 x <span id="gamma_value"></span> x <span id="Wd_value"></span> x <span id="Ngamma_value"></span> x <span id="sGamma_value"></span>
    = <span id="shear_result"></span> kPa-->
    </p>
</div>

<script type="module" src="js/main.js"></script>


</body>
</html>
